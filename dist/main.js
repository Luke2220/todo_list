(()=>{"use strict";const e=(()=>{const e=[];return{addProject:(t,n,d,i)=>{let l=((e,t,n,d)=>{const i=[];return{editProject:(i,l,a,o)=>{e=i,t=l,n=a,d=o},getName:()=>e,getPriority:()=>t,getDate:()=>n,getDesc:()=>d,addTodo:(e,t,n,d)=>{const l=((e,t,n,d)=>({getName:()=>e,getDesc:()=>d,getDate:()=>n,getPriority:()=>t,editProject:(i,l,a,o)=>{e=i,t=l,n=a,d=o}}))(e,t,n,d);return i.push(l),l},getTodos:()=>i,ourTodos:i,ourDiv:null,deleteTodo:e=>{i.forEach(((t,n)=>{t.getName()==e&&delete i[n]}))}}})(t,n,d,i);return e.push(l),l},removeProject:t=>{e.forEach(((n,d)=>{n==t&&delete e[d]}))},FindProject:t=>{e.forEach(((n,d)=>{if(n==t)return e[d]}))},getList:()=>e,selectedProject:void 0}})(),t=function(e,t){e.style.color="low"==t?"#2f7d99":"med"==t?"#309121":"#db3425"};function n(e,n){if(document.getElementsByClassName("editForm").length<=0){let a=document.createElement("form");a.classList.add("editForm"),document.createElement("p").textContent="Edit";let o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("name","title");let r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("name","desc");let c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("name","dueDate");let s=document.createElement("input");s.setAttribute("type","radio"),s.setAttribute("name","priority"),s.setAttribute("id","low"),s.setAttribute("value","low");let u=document.createElement("input");u.setAttribute("type","radio"),u.setAttribute("name","priority"),u.setAttribute("id","med"),u.setAttribute("value","Med");let m=document.createElement("input");m.setAttribute("type","radio"),m.setAttribute("name","priority"),m.setAttribute("id","high"),m.setAttribute("value","High");let p=document.createElement("input");return p.setAttribute("type","submit"),p.setAttribute("value","Save"),p.addEventListener("click",(e=>{e.preventDefault();const i=new FormData(a);var l;n.editProject(i.get("title"),i.get("priority"),i.get("dueDate"),i.get("desc")),t(n.ourTitleP,n.getPriority()),(l=n).ourDiv.getElementsByClassName("title")[0].textContent=l.getName(),l.ourDiv.getElementsByClassName("desc")[0].textContent=l.getDesc(),l.ourDiv.getElementsByClassName("dueDate")[0].textContent=l.getDate(),d(a)})),a.appendChild(i()),a.appendChild(l("Edit Title:","title")),a.appendChild(i()),a.appendChild(o),a.appendChild(i()),a.appendChild(l("Edit Description:","desc")),a.appendChild(i()),a.appendChild(r),a.appendChild(i()),a.appendChild(l("Edit Due-Date:","dueDate")),a.appendChild(i()),a.appendChild(c),a.appendChild(i()),a.appendChild(s),a.appendChild(l("Low","dueDate")),a.appendChild(u),a.appendChild(l("High","dueDate")),a.appendChild(m),a.appendChild(l("Medium","dueDate")),a.appendChild(i()),a.appendChild(p),e.appendChild(a),a}d(document.getElementsByClassName("editForm")[0])}function d(e){e.remove()}function i(){return document.createElement("br")}function l(e,t){const n=document.createElement("label");return n.textContent=e,n.setAttribute("name",t),n}const a=document.getElementsByClassName("addProject")[0],o=document.getElementsByClassName("addTodo")[0],r=document.getElementsByClassName("projectList")[0],c=document.getElementsByClassName("todoList")[0],s=document.getElementsByClassName("projectForm")[0],u=document.getElementsByClassName("todoForm")[0],m=document.getElementsByClassName("projectSave")[0],p=document.getElementsByClassName("todoSave")[0];function C(d,i,l){let a=document.createElement("div");d.ourDiv=a;let o=document.createElement("p");o.textContent=d.getName(),o.classList.add("title"),d.ourTitleP=o,t(d.ourTitleP,d.getPriority());let r=document.createElement("div");r.classList.add("visibleForm","info"),o.addEventListener("click",(()=>{g(r)}));let c=document.createElement("p");c.textContent=d.getDesc(),c.classList.add("desc");let s=document.createElement("p");s.textContent=d.getDate(),s.classList.add("dueDate");let u=document.createElement("button");u.textContent="Edit",u.addEventListener("click",(()=>{n(a,d)}));let m=document.createElement("button");m.textContent="Delete",m.addEventListener("click",(()=>{e.selectedProject.deleteTodo(d.getName()),E(a)})),r.appendChild(c),r.appendChild(s),a.appendChild(o),a.appendChild(r),a.appendChild(u),a.appendChild(m),l.appendChild(a),g(i)}function E(e){e.remove()}function g(e){e.classList.toggle("visibleForm")}a.addEventListener("click",(()=>{g(s)})),o.addEventListener("click",(()=>{g(u)})),m.addEventListener("click",(d=>{d.preventDefault(),function(d,i,l,a){let o=document.createElement("div");d.ourDiv=o;let r=document.createElement("p");r.textContent=d.getName(),r.classList.add("title"),d.ourTitleP=r,t(d.ourTitleP,d.getPriority());let s=document.createElement("div");s.classList.add("visibleForm","info"),r.addEventListener("click",(()=>{var t;null!=(t=a)&&Array.from(t.children).forEach((e=>{e.remove()})),function(t){null!=e.selectedProject&&g(e.selectedProject.ourDiv.getElementsByClassName("info")[0]),e.selectedProject=t,t.ourTodos.forEach((e=>{C(e,u,c)}))}(d),g(s)}));let m=document.createElement("p");m.textContent=d.getDesc(),m.classList.add("desc");let p=document.createElement("p");p.textContent=d.getDate(),p.classList.add("dueDate");let h=document.createElement("button");h.textContent="Edit",h.addEventListener("click",(()=>{n(o,d)}));let v=document.createElement("button");v.textContent="Delete",v.addEventListener("click",(()=>{e.removeProject(d),E(o),function(e){for(;e.firstChild;)E(e.firstChild)}(c)})),s.appendChild(m),s.appendChild(p),o.appendChild(r),o.appendChild(s),o.appendChild(h),o.appendChild(v),l.appendChild(o),g(i)}(function(){let t=new FormData(s);return e.addProject(t.get("title"),t.get("priority"),t.get("dueDate"),t.get("desc"))}(),s,r,c)})),p.addEventListener("click",(t=>{t.preventDefault(),null!=e.selectedProject&&C(function(e){let t=new FormData(u);return e.addTodo(t.get("title"),t.get("priority"),t.get("dueDate"),t.get("desc"))}(e.selectedProject),u,c)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OEIsY0FBY0MsR0FDN0J5RCxFQUFVakQsR0FzRWQsU0FBNkIwRCxHQUUzQixLQUFPQSxFQUFPQyxZQUNaVixFQUFVUyxFQUFPQyxZQXZFakJDLENBQW9CdkIsTUFHdEJRLEVBQWFuQixZQUFZM0QsR0FDekI4RSxFQUFhbkIsWUFBWTVELEdBRXpCa0MsRUFBSTBCLFlBQVlrQixHQUNoQjVDLEVBQUkwQixZQUFZbUIsR0FDaEI3QyxFQUFJMEIsWUFBWXFCLEdBQ2hCL0MsRUFBSTBCLFlBQVlzQixHQUNoQkwsRUFBYWpCLFlBQVkxQixHQUN6QjhDLEVBQWNqQixHQXZGZGdDLENBU0YsV0FDRSxJQUFJQyxFQUFXLElBQUl4QyxTQUFTZ0IsR0FROUIsT0FQcUI3RSxFQUFlRSxXQUNoQ21HLEVBQVN2QyxJQUFJLFNBQ2J1QyxFQUFTdkMsSUFBSSxZQUNidUMsRUFBU3ZDLElBQUksV0FDYnVDLEVBQVN2QyxJQUFJLFNBZkR3QyxHQUFvQnpCLEVBQWFGLEVBQWtCQyxNQUVuRUksRUFBWXZCLGlCQUFpQixTQUFVa0MsSUFDckNBLEVBQU1oQyxpQkFDZ0MsTUFBbEMzRCxFQUFla0MsaUJBQ2pCK0MsRUFnQkosU0FBdUIvQyxHQUNuQixJQUFJbUUsRUFBVyxJQUFJeEMsU0FBU2lCLEdBTzFCLE9BTmM1QyxFQUFnQmhCLFFBQzlCbUYsRUFBU3ZDLElBQUksU0FDYnVDLEVBQVN2QyxJQUFJLFlBQ2J1QyxFQUFTdkMsSUFBSSxXQUNidUMsRUFBU3ZDLElBQUksU0F0Qkp5QyxDQUFjdkcsRUFBZWtDLGlCQUFrQjRDLEVBQVVGLE8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG9kb19saXN0Ly4vc3JjL3Byb2plY3RfbWFuYWdlci5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvcHJpb3JpdHktY29sb3IuanMiLCJ3ZWJwYWNrOi8vdG9kb19saXN0Ly4vc3JjL2VkaXRfZm9ybS5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvYWRkX3Byb2plY3RzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHByb2plY3RzID0gKG5hbWUsIHByaW9yaXR5LCBkdWVEYXRlLCBkZXNjKSA9PiB7XG4gIGNvbnN0IGdldE5hbWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH07XG4gIGNvbnN0IGdldFByaW9yaXR5ID0gKCkgPT4ge1xuICAgIHJldHVybiBwcmlvcml0eTtcbiAgfTtcbiAgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZHVlRGF0ZTtcbiAgfTtcbiAgY29uc3QgZ2V0RGVzYyA9ICgpID0+IHtcbiAgICByZXR1cm4gZGVzYztcbiAgfTtcblxuICBjb25zdCBvdXJUb2RvcyA9IFtdO1xuICBjb25zdCBvdXJEaXYgPSBudWxsO1xuICBjb25zdCBvdXJUaXRsZVAgPSBudWxsO1xuXG4gIGNvbnN0IGFkZFRvZG8gPSAobmFtZSwgcHJpb3JpdHksIGR1ZURhdGUsIGRlc2MpID0+IHtcbiAgICBjb25zdCBuZXdUb2RvID0gdG9kbyhuYW1lLCBwcmlvcml0eSwgZHVlRGF0ZSwgZGVzYyk7XG4gICAgb3VyVG9kb3MucHVzaChuZXdUb2RvKTtcbiAgICByZXR1cm4gbmV3VG9kbztcbiAgfTtcblxuICBjb25zdCBkZWxldGVUb2RvID0gKHRvZG9OYW1lKSA9PiB7XG4gICAgb3VyVG9kb3MuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuZ2V0TmFtZSgpID09IHRvZG9OYW1lKSB7XG4gICAgICAgICBcbiAgICAgICAgZGVsZXRlIG91clRvZG9zW2ldO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGdldFRvZG9zID0gKCkgPT4ge1xuICAgIHJldHVybiBvdXJUb2RvcztcbiAgfTtcblxuICBjb25zdCBlZGl0UHJvamVjdCA9IChfbmFtZSwgX3ByaW9yaXR5LCBfZHVlRGF0ZSwgX2Rlc2MpID0+IHtcbiAgIFxuICAgIG5hbWUgPSBfbmFtZTtcbiAgICBwcmlvcml0eSA9IF9wcmlvcml0eTtcbiAgICBkdWVEYXRlID0gX2R1ZURhdGU7XG4gICAgZGVzYyA9IF9kZXNjO1xuICAgXG4gIH07XG4gIHJldHVybiB7XG4gICAgZWRpdFByb2plY3QsXG4gICAgZ2V0TmFtZSxcbiAgICBnZXRQcmlvcml0eSxcbiAgICBnZXREYXRlLFxuICAgIGdldERlc2MsXG4gICAgYWRkVG9kbyxcbiAgICBnZXRUb2RvcyxcbiAgICBvdXJUb2RvcyxcbiAgICBvdXJEaXYsXG4gICAgZGVsZXRlVG9kbyxcbiAgfTtcbn07XG5cbmNvbnN0IHRvZG8gPSAobmFtZSwgcHJpb3JpdHksIGR1ZURhdGUsIGRlc2MpID0+IHtcbiAgY29uc3QgZ2V0TmFtZSA9ICgpID0+IHtcbiAgICByZXR1cm4gbmFtZTtcbiAgfTtcbiAgY29uc3QgZ2V0UHJpb3JpdHkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHByaW9yaXR5O1xuICB9O1xuICBjb25zdCBnZXREYXRlID0gKCkgPT4ge1xuICAgIHJldHVybiBkdWVEYXRlO1xuICB9O1xuICBjb25zdCBnZXREZXNjID0gKCkgPT4ge1xuICAgIHJldHVybiBkZXNjO1xuICB9O1xuXG4gIGNvbnN0IGVkaXRQcm9qZWN0ID0gKF9uYW1lLCBfcHJpb3JpdHksIF9kdWVEYXRlLCBfZGVzYykgPT4ge1xuICAgIG5hbWUgPSBfbmFtZTtcbiAgICBwcmlvcml0eSA9IF9wcmlvcml0eTtcbiAgICBkdWVEYXRlID0gX2R1ZURhdGU7XG4gICAgZGVzYyA9IF9kZXNjO1xuICAgXG4gIH07XG4gIHJldHVybiB7Z2V0TmFtZSxnZXREZXNjLGdldERhdGUsZ2V0UHJpb3JpdHksZWRpdFByb2plY3R9XG59O1xuXG5leHBvcnQgeyBwcm9qZWN0cyB9O1xuIiwiaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tIFwiLi9wcm9qZWN0c1wiO1xuXG5jb25zdCBwcm9qZWN0TWFuYWdlciA9ICgoKSA9PiB7XG4gIGNvbnN0IHByb2plY3RMaXN0ID0gW107XG4gIGxldCBzZWxlY3RlZFByb2plY3Q7XG5cbiAgY29uc3QgZ2V0TGlzdCA9ICgpID0+IHByb2plY3RMaXN0O1xuXG4gIGNvbnN0IGFkZFByb2plY3QgPSAobmFtZSwgcHJpb3JpdHksIGR1ZURhdGUsIGRlc2MpID0+IHtcbiAgICBsZXQgbmV3UCA9IHByb2plY3RzKG5hbWUsIHByaW9yaXR5LCBkdWVEYXRlLCBkZXNjKTtcbiAgICBwcm9qZWN0TGlzdC5wdXNoKG5ld1ApO1xuICAgIHJldHVybiBuZXdQO1xuICB9O1xuXG4gIGNvbnN0IEZpbmRQcm9qZWN0ID0gKHByb2plY3QpID0+IHtcbiAgICBwcm9qZWN0TGlzdC5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAoZWxlbWVudCA9PSBwcm9qZWN0KSB7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TGlzdFtpXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVQcm9qZWN0ID0gKHByb2plY3QpID0+IHtcbiAgICBwcm9qZWN0TGlzdC5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAoZWxlbWVudCA9PSBwcm9qZWN0KSB7XG4gICAgICAgIGRlbGV0ZSBwcm9qZWN0TGlzdFtpXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHsgYWRkUHJvamVjdCwgcmVtb3ZlUHJvamVjdCwgRmluZFByb2plY3QsIGdldExpc3QsIHNlbGVjdGVkUHJvamVjdCB9O1xufSkoKTtcbmV4cG9ydCB7IHByb2plY3RNYW5hZ2VyIH07XG4iLCJjb25zdCBwcmlvcml0eUNvbG9yID0gKCgpID0+IHtcblxuICAgIGNvbnN0IGxvd1ByaW9yaXR5Q29sb3IgPSAnIzJmN2Q5OSc7XG4gICAgY29uc3QgbWVkUHJpb3JpdHlDb2xvciA9ICcjMzA5MTIxJztcbiAgICBjb25zdCBoaWdoUHJpb3JpdHlDb2xvciA9ICcjZGIzNDI1JztcblxuICAgIGZ1bmN0aW9uIGNoYW5nZUNvbG9yUHJpKGVsZW1lbnQscHJpb3JpdHkpe1xuICAgICAgICBpZiAocHJpb3JpdHkgPT0gJ2xvdycpe1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5jb2xvciA9IGxvd1ByaW9yaXR5Q29sb3I7XG4gICAgICAgICAgfSBcbiAgICAgICAgICBlbHNlIGlmIChwcmlvcml0eSA9PSAnbWVkJyl7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmNvbG9yID0gbWVkUHJpb3JpdHlDb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSBoaWdoUHJpb3JpdHlDb2xvcjtcbiAgICAgICAgICB9O1xuICAgICAgICBcbiAgICB9XG4gICAgcmV0dXJuIHtjaGFuZ2VDb2xvclByaX1cbn0pKCk7XG5cbmV4cG9ydCB7cHJpb3JpdHlDb2xvcn1cbiIsImltcG9ydCB7cHJpb3JpdHlDb2xvcn0gZnJvbSBcIi4vcHJpb3JpdHktY29sb3JcIjtcblxuZnVuY3Rpb24gYWRkRWRpdEZvcm0oZGl2LHByb2plY3RUb0VkaXQpe1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdlZGl0Rm9ybScpLmxlbmd0aCA8PSAwKSB7XG4gICAgbGV0IGVkaXRGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIGVkaXRGb3JtLmNsYXNzTGlzdC5hZGQoJ2VkaXRGb3JtJyk7XG5cbiAgICBjb25zdCBlZGl0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZWRpdFRpdGxlLnRleHRDb250ZW50ID0gJ0VkaXQnO1xuXG4gICAgbGV0IHRpdGxlQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0aXRsZUJveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCd0ZXh0Jyk7XG4gICAgdGl0bGVCb3guc2V0QXR0cmlidXRlKCduYW1lJywndGl0bGUnKTtcblxuXG4gICAgbGV0IGRlc2NCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGRlc2NCb3guc2V0QXR0cmlidXRlKCd0eXBlJywndGV4dCcpO1xuICAgIGRlc2NCb3guc2V0QXR0cmlidXRlKCduYW1lJywnZGVzYycpO1xuXG5cbiAgICBsZXQgZGF0ZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgZGF0ZUJveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCd0ZXh0Jyk7XG4gICAgZGF0ZUJveC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCdkdWVEYXRlJyk7XG4gIFxuXG4gICAgbGV0IHJhZGlvTG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICByYWRpb0xvdy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdyYWRpbycpO1xuICAgIHJhZGlvTG93LnNldEF0dHJpYnV0ZSgnbmFtZScsJ3ByaW9yaXR5Jyk7XG4gICAgcmFkaW9Mb3cuc2V0QXR0cmlidXRlKCdpZCcsJ2xvdycpO1xuICAgIHJhZGlvTG93LnNldEF0dHJpYnV0ZSgndmFsdWUnLCdsb3cnKTtcbiAgICBcblxuICAgIGxldCByYWRpb01lZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgcmFkaW9NZWQuc2V0QXR0cmlidXRlKCd0eXBlJywncmFkaW8nKTtcbiAgICByYWRpb01lZC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCdwcmlvcml0eScpO1xuICAgIHJhZGlvTWVkLnNldEF0dHJpYnV0ZSgnaWQnLCdtZWQnKTtcbiAgICByYWRpb01lZC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywnTWVkJyk7XG5cbiAgICBsZXQgcmFkaW9IaWdoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICByYWRpb0hpZ2guc2V0QXR0cmlidXRlKCd0eXBlJywncmFkaW8nKTtcbiAgICByYWRpb0hpZ2guc2V0QXR0cmlidXRlKCduYW1lJywncHJpb3JpdHknKTtcbiAgICByYWRpb0hpZ2guc2V0QXR0cmlidXRlKCdpZCcsJ2hpZ2gnKTtcbiAgICByYWRpb0hpZ2guc2V0QXR0cmlidXRlKCd2YWx1ZScsJ0hpZ2gnKTtcblxuICAgIGxldCBzdWJtaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHN1Ym1pdEJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdzdWJtaXQnKTtcbiAgICBzdWJtaXRCdG4uc2V0QXR0cmlidXRlKCd2YWx1ZScsJ1NhdmUnKTtcbiAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBnZXRGb3JtRGF0YShlZGl0Rm9ybSk7XG4gICAgICAgIHByb2plY3RUb0VkaXQuZWRpdFByb2plY3QoIGZvcm1EYXRhLmdldChcInRpdGxlXCIpLFxuICAgICAgICBmb3JtRGF0YS5nZXQoXCJwcmlvcml0eVwiKSxcbiAgICAgICAgZm9ybURhdGEuZ2V0KFwiZHVlRGF0ZVwiKSxcbiAgICAgICAgZm9ybURhdGEuZ2V0KFwiZGVzY1wiKSk7XG4gICAgICAgIHByaW9yaXR5Q29sb3IuY2hhbmdlQ29sb3JQcmkocHJvamVjdFRvRWRpdC5vdXJUaXRsZVAscHJvamVjdFRvRWRpdC5nZXRQcmlvcml0eSgpKTtcbiAgICAgICAgdXBkYXRlRG9tKHByb2plY3RUb0VkaXQpO1xuICAgICAgICByZW1vdmVGb3JtKGVkaXRGb3JtKTtcbiAgICB9KTtcblxuICAgIFxuICAgIGVkaXRGb3JtLmFwcGVuZENoaWxkKGNyZWF0ZUJSKCkpO1xuICAgIGVkaXRGb3JtLmFwcGVuZENoaWxkKGNyZWF0ZUxhYmVsKCdFZGl0IFRpdGxlOicsICd0aXRsZScpKTtcbiAgICBlZGl0Rm9ybS5hcHBlbmRDaGlsZChjcmVhdGVCUigpKTtcbiAgICBlZGl0Rm9ybS5hcHBlbmRDaGlsZCh0aXRsZUJveCk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlQlIoKSk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlTGFiZWwoJ0VkaXQgRGVzY3JpcHRpb246JywgJ2Rlc2MnKSk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlQlIoKSk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoZGVzY0JveCk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlQlIoKSk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlTGFiZWwoJ0VkaXQgRHVlLURhdGU6JywgJ2R1ZURhdGUnKSk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlQlIoKSk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoZGF0ZUJveCk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlQlIoKSk7XG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQocmFkaW9Mb3cpO1xuICAgIGVkaXRGb3JtLmFwcGVuZENoaWxkKGNyZWF0ZUxhYmVsKCdMb3cnLCAnZHVlRGF0ZScpKTsgIFxuICAgIGVkaXRGb3JtLmFwcGVuZENoaWxkKHJhZGlvTWVkKTsgXG4gICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlTGFiZWwoJ0hpZ2gnLCAnZHVlRGF0ZScpKTtcbiAgICBlZGl0Rm9ybS5hcHBlbmRDaGlsZChyYWRpb0hpZ2gpO1xuICAgIGVkaXRGb3JtLmFwcGVuZENoaWxkKGNyZWF0ZUxhYmVsKCdNZWRpdW0nLCAnZHVlRGF0ZScpKTtcbiAgICBlZGl0Rm9ybS5hcHBlbmRDaGlsZChjcmVhdGVCUigpKTtcbiAgICBlZGl0Rm9ybS5hcHBlbmRDaGlsZChzdWJtaXRCdG4pO1xuICAgIGRpdi5hcHBlbmRDaGlsZChlZGl0Rm9ybSk7XG4gICAgcmV0dXJuIGVkaXRGb3JtO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUZvcm0oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZWRpdEZvcm0nKVswXSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVGb3JtKGZvcm0pe1xuICAgIGZvcm0ucmVtb3ZlKCk7XG59XG5cbmZ1bmN0aW9uIGdldEZvcm1EYXRhKGZvcm0pe1xuICAgIGxldCBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICByZXR1cm4gZm9ybWRhdGE7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJSKCl7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxhYmVsKHRleHQsIGVsZSl7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBlbGUpO1xuICAgIHJldHVybiBsYWJlbDtcbiAgICBcbn1cblxuZnVuY3Rpb24gdXBkYXRlRG9tKHByb2plY3Qpe1xuICAgIHByb2plY3Qub3VyRGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RpdGxlJylbMF0udGV4dENvbnRlbnQgPSBwcm9qZWN0LmdldE5hbWUoKTtcbiAgICBwcm9qZWN0Lm91ckRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZXNjJylbMF0udGV4dENvbnRlbnQgPSBwcm9qZWN0LmdldERlc2MoKTtcbiAgICBwcm9qZWN0Lm91ckRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkdWVEYXRlJylbMF0udGV4dENvbnRlbnQgPSBwcm9qZWN0LmdldERhdGUoKTtcbiAgfVxuXG5leHBvcnQge2FkZEVkaXRGb3JtLCBnZXRGb3JtRGF0YX0iLCJpbXBvcnQgeyBwcm9qZWN0TWFuYWdlciB9IGZyb20gXCIuL3Byb2plY3RfbWFuYWdlclwiO1xuaW1wb3J0IHthZGRFZGl0Rm9ybX0gZnJvbSBcIi4vZWRpdF9mb3JtXCI7XG5pbXBvcnQge3ByaW9yaXR5Q29sb3J9IGZyb20gXCIuL3ByaW9yaXR5LWNvbG9yXCI7XG5cbmNvbnN0IG5ld1Byb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYWRkUHJvamVjdFwiKVswXTtcbmNvbnN0IG5ld1RvZG9CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYWRkVG9kb1wiKVswXTtcbmNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicHJvamVjdExpc3RcIilbMF07XG5jb25zdCB0b2RvQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRvZG9MaXN0XCIpWzBdO1xuY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicHJvamVjdEZvcm1cIilbMF07XG5jb25zdCB0b2RvRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0b2RvRm9ybVwiKVswXTtcbmNvbnN0IHByb2plY3RTYXZlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInByb2plY3RTYXZlXCIpWzBdO1xuY29uc3QgdG9kb1NhdmVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidG9kb1NhdmVcIilbMF07XG5cbm5ld1Byb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdG9nZ2xlVmlzaWJsZShwcm9qZWN0Rm9ybSk7XG59KTtcbm5ld1RvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdG9nZ2xlVmlzaWJsZSh0b2RvRm9ybSk7XG59KTtcblxucHJvamVjdFNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBhZGRQcm9qZWN0RG9tKGNyZWF0ZU5ld1Byb2plY3QoKSwgcHJvamVjdEZvcm0sIHByb2plY3RDb250YWluZXIsIHRvZG9Db250YWluZXIpO1xufSk7XG50b2RvU2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGlmIChwcm9qZWN0TWFuYWdlci5zZWxlY3RlZFByb2plY3QgIT0gbnVsbCkge1xuICAgIGFkZFRvZG9Eb20oY3JlYXRlTmV3VG9kbyhwcm9qZWN0TWFuYWdlci5zZWxlY3RlZFByb2plY3QpLCB0b2RvRm9ybSwgdG9kb0NvbnRhaW5lcik7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVOZXdQcm9qZWN0KCkge1xuICBsZXQgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEocHJvamVjdEZvcm0pO1xuICBjb25zdCBuZXdQcm9qZWN0ID0gcHJvamVjdE1hbmFnZXIuYWRkUHJvamVjdChcbiAgICBmb3JtZGF0YS5nZXQoXCJ0aXRsZVwiKSxcbiAgICBmb3JtZGF0YS5nZXQoXCJwcmlvcml0eVwiKSxcbiAgICBmb3JtZGF0YS5nZXQoXCJkdWVEYXRlXCIpLFxuICAgIGZvcm1kYXRhLmdldChcImRlc2NcIilcbiAgKTtcblxucmV0dXJuIG5ld1Byb2plY3Q7ICBcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3VG9kbyhzZWxlY3RlZFByb2plY3QpIHtcbiAgICBsZXQgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEodG9kb0Zvcm0pO1xuICAgIGNvbnN0IG5ld1RvZG8gPSBzZWxlY3RlZFByb2plY3QuYWRkVG9kbyhcbiAgICAgIGZvcm1kYXRhLmdldChcInRpdGxlXCIpLFxuICAgICAgZm9ybWRhdGEuZ2V0KFwicHJpb3JpdHlcIiksXG4gICAgICBmb3JtZGF0YS5nZXQoXCJkdWVEYXRlXCIpLFxuICAgICAgZm9ybWRhdGEuZ2V0KFwiZGVzY1wiKVxuICAgICk7XG4gICAgICByZXR1cm4gbmV3VG9kbztcbn1cblxuZnVuY3Rpb24gYWRkUHJvamVjdERvbShwcm9qZWN0LCBmb3JtLCBkb21Db250YWluZXIsIGNvbnRhaW5lclRvQ2xlYXIpIHtcbiAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHByb2plY3Qub3VyRGl2ID0gZGl2O1xuXG4gIGxldCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICB0aXRsZS50ZXh0Q29udGVudCA9IHByb2plY3QuZ2V0TmFtZSgpO1xuICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZScpO1xuICBwcm9qZWN0Lm91clRpdGxlUCA9IHRpdGxlO1xuICBcbiAgcHJpb3JpdHlDb2xvci5jaGFuZ2VDb2xvclByaShwcm9qZWN0Lm91clRpdGxlUCxwcm9qZWN0LmdldFByaW9yaXR5KCkpO1xuXG4gIGxldCBkZXRhaWxlZEluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkZXRhaWxlZEluZm8uY2xhc3NMaXN0LmFkZChcInZpc2libGVGb3JtXCIsIFwiaW5mb1wiKTtcbiBcblxuICB0aXRsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGNsZWFyRG9tQ2hpbGRyZW4oY29udGFpbmVyVG9DbGVhcik7XG4gICAgb3BlblByb2plY3QocHJvamVjdCk7XG4gICAgdG9nZ2xlVmlzaWJsZShkZXRhaWxlZEluZm8pO1xuICB9KTtcblxuICBsZXQgZGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBkZXNjLnRleHRDb250ZW50ID0gcHJvamVjdC5nZXREZXNjKCk7XG4gIGRlc2MuY2xhc3NMaXN0LmFkZCgnZGVzYycpO1xuXG4gIGxldCBkdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIGR1ZURhdGUudGV4dENvbnRlbnQgPSBwcm9qZWN0LmdldERhdGUoKTtcbiAgZHVlRGF0ZS5jbGFzc0xpc3QuYWRkKCdkdWVEYXRlJyk7XG5cbiAgbGV0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBlZGl0QnRuLnRleHRDb250ZW50ID0gXCJFZGl0XCI7XG5cbiAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgYWRkRWRpdEZvcm0oZGl2LHByb2plY3QpOyAgIFxuICAgfSk7XG4gICAgXG4gICAgXG5cbiAgbGV0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGRlbGV0ZUJ0bi50ZXh0Q29udGVudCA9IFwiRGVsZXRlXCI7XG4gIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHByb2plY3RNYW5hZ2VyLnJlbW92ZVByb2plY3QocHJvamVjdCk7XG4gICAgcmVtb3ZlRG9tKGRpdik7XG4gIFxuICAgIHJlbW92ZUFsbENoaWxkTm9kZXModG9kb0NvbnRhaW5lcik7XG4gIH0pO1xuXG4gIGRldGFpbGVkSW5mby5hcHBlbmRDaGlsZChkZXNjKTtcbiAgZGV0YWlsZWRJbmZvLmFwcGVuZENoaWxkKGR1ZURhdGUpO1xuXG4gIGRpdi5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gIGRpdi5hcHBlbmRDaGlsZChkZXRhaWxlZEluZm8pO1xuICBkaXYuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG4gIGRpdi5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICBkb21Db250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgdG9nZ2xlVmlzaWJsZShmb3JtKTtcbn1cblxuXG5mdW5jdGlvbiBhZGRUb2RvRG9tKHRvZG8sIGZvcm0sIGRvbUNvbnRhaW5lcikge1xuICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdG9kby5vdXJEaXYgPSBkaXY7XG5cbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIHRpdGxlLnRleHRDb250ZW50ID0gdG9kby5nZXROYW1lKCk7XG4gIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlJyk7XG4gIHRvZG8ub3VyVGl0bGVQID0gdGl0bGU7XG5cbnByaW9yaXR5Q29sb3IuY2hhbmdlQ29sb3JQcmkodG9kby5vdXJUaXRsZVAsdG9kby5nZXRQcmlvcml0eSgpKTtcblxuXG4gIGxldCBkZXRhaWxlZEluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkZXRhaWxlZEluZm8uY2xhc3NMaXN0LmFkZChcInZpc2libGVGb3JtXCIsIFwiaW5mb1wiKTtcbiBcblxuXG4gIHRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgdG9nZ2xlVmlzaWJsZShkZXRhaWxlZEluZm8pO1xuICB9KTtcblxuICBsZXQgZGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBkZXNjLnRleHRDb250ZW50ID0gdG9kby5nZXREZXNjKCk7XG4gIGRlc2MuY2xhc3NMaXN0LmFkZCgnZGVzYycpO1xuXG4gIGxldCBkdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIGR1ZURhdGUudGV4dENvbnRlbnQgPSB0b2RvLmdldERhdGUoKTtcbiAgZHVlRGF0ZS5jbGFzc0xpc3QuYWRkKCdkdWVEYXRlJyk7XG5cbiAgbGV0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBlZGl0QnRuLnRleHRDb250ZW50ID0gXCJFZGl0XCI7XG4gIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICBhZGRFZGl0Rm9ybShkaXYsdG9kbyk7ICBcbiAgfSlcblxuICBsZXQgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gXCJEZWxldGVcIjtcbiAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcHJvamVjdE1hbmFnZXIuc2VsZWN0ZWRQcm9qZWN0LmRlbGV0ZVRvZG8odG9kby5nZXROYW1lKCkpO1xuICAgIHJlbW92ZURvbShkaXYpO1xuICB9KTtcblxuICBkZXRhaWxlZEluZm8uYXBwZW5kQ2hpbGQoZGVzYyk7XG4gIGRldGFpbGVkSW5mby5hcHBlbmRDaGlsZChkdWVEYXRlKTtcblxuICBkaXYuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICBkaXYuYXBwZW5kQ2hpbGQoZGV0YWlsZWRJbmZvKTtcbiAgZGl2LmFwcGVuZENoaWxkKGVkaXRCdG4pO1xuICBkaXYuYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcbiAgZG9tQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdik7XG4gIHRvZ2dsZVZpc2libGUoZm9ybSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFsbENoaWxkTm9kZXMocGFyZW50KVxue1xuICB3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICByZW1vdmVEb20ocGFyZW50LmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZURvbShub2RlKXtcbiAgbm9kZS5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gb3BlblByb2plY3QocHJvamVjdCkge1xuICBpZiAocHJvamVjdE1hbmFnZXIuc2VsZWN0ZWRQcm9qZWN0ICE9IG51bGwpIHtcbiAgICBjb25zdCBpbmZvID0gcHJvamVjdE1hbmFnZXIuc2VsZWN0ZWRQcm9qZWN0Lm91ckRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbmZvJylbMF07XG4gICAgdG9nZ2xlVmlzaWJsZShpbmZvKTtcbiAgfVxuXG4gIHByb2plY3RNYW5hZ2VyLnNlbGVjdGVkUHJvamVjdCA9IHByb2plY3Q7XG4gIHByb2plY3Qub3VyVG9kb3MuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgIGFkZFRvZG9Eb20oZWxlbWVudCwgdG9kb0Zvcm0sIHRvZG9Db250YWluZXIpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJEb21DaGlsZHJlbihlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50ICE9IG51bGwpIHtcbiAgICBjb25zdCBhcnJheSA9IEFycmF5LmZyb20oZWxlbWVudC5jaGlsZHJlbik7XG4gICAgYXJyYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b2dnbGVWaXNpYmxlKGVsZW1lbnQpIHtcbiAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwidmlzaWJsZUZvcm1cIik7XG59XG4iXSwibmFtZXMiOlsicHJvamVjdE1hbmFnZXIiLCJwcm9qZWN0TGlzdCIsImFkZFByb2plY3QiLCJuYW1lIiwicHJpb3JpdHkiLCJkdWVEYXRlIiwiZGVzYyIsIm5ld1AiLCJvdXJUb2RvcyIsImVkaXRQcm9qZWN0IiwiX25hbWUiLCJfcHJpb3JpdHkiLCJfZHVlRGF0ZSIsIl9kZXNjIiwiZ2V0TmFtZSIsImdldFByaW9yaXR5IiwiZ2V0RGF0ZSIsImdldERlc2MiLCJhZGRUb2RvIiwibmV3VG9kbyIsInRvZG8iLCJwdXNoIiwiZ2V0VG9kb3MiLCJvdXJEaXYiLCJkZWxldGVUb2RvIiwidG9kb05hbWUiLCJmb3JFYWNoIiwiZWxlbWVudCIsImkiLCJwcm9qZWN0cyIsInJlbW92ZVByb2plY3QiLCJwcm9qZWN0IiwiRmluZFByb2plY3QiLCJnZXRMaXN0Iiwic2VsZWN0ZWRQcm9qZWN0IiwicHJpb3JpdHlDb2xvciIsInN0eWxlIiwiY29sb3IiLCJhZGRFZGl0Rm9ybSIsImRpdiIsInByb2plY3RUb0VkaXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJsZW5ndGgiLCJlZGl0Rm9ybSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInRpdGxlQm94Iiwic2V0QXR0cmlidXRlIiwiZGVzY0JveCIsImRhdGVCb3giLCJyYWRpb0xvdyIsInJhZGlvTWVkIiwicmFkaW9IaWdoIiwic3VibWl0QnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJnZXQiLCJvdXJUaXRsZVAiLCJyZW1vdmVGb3JtIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVCUiIsImNyZWF0ZUxhYmVsIiwiZm9ybSIsInJlbW92ZSIsInRleHQiLCJlbGUiLCJsYWJlbCIsIm5ld1Byb2plY3RCdG4iLCJuZXdUb2RvQnRuIiwicHJvamVjdENvbnRhaW5lciIsInRvZG9Db250YWluZXIiLCJwcm9qZWN0Rm9ybSIsInRvZG9Gb3JtIiwicHJvamVjdFNhdmVCdG4iLCJ0b2RvU2F2ZUJ0biIsImFkZFRvZG9Eb20iLCJkb21Db250YWluZXIiLCJ0aXRsZSIsImRldGFpbGVkSW5mbyIsInRvZ2dsZVZpc2libGUiLCJlZGl0QnRuIiwiZGVsZXRlQnRuIiwicmVtb3ZlRG9tIiwibm9kZSIsInRvZ2dsZSIsImV2ZW50IiwiY29udGFpbmVyVG9DbGVhciIsIkFycmF5IiwiZnJvbSIsImNoaWxkcmVuIiwib3BlblByb2plY3QiLCJwYXJlbnQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQWxsQ2hpbGROb2RlcyIsImFkZFByb2plY3REb20iLCJmb3JtZGF0YSIsImNyZWF0ZU5ld1Byb2plY3QiLCJjcmVhdGVOZXdUb2RvIl0sInNvdXJjZVJvb3QiOiIifQ==